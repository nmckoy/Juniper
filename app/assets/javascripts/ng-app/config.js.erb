'use strict';

// Init the application configuration module for AngularJS application
var ApplicationConfiguration = (function() {
	// Init module configuration options
	var applicationModuleName = 'Rangular';

	var applicationModuleVendorDependencies = ['ngResource', 'ngRoute', 'templates'];

	// Add a new vertical module
	var registerModule = function(moduleName, dependencies) {
		// Create angular module
		angular.module(moduleName, dependencies || []);

		// Add the module to the AngularJS configuration file
		angular.module(applicationModuleName).requires.push(moduleName);
	};
	
	// rails sends this error when session has timed-out
	var isSessionEnd = function(status) {
		return status === 401 ? true : false;
	};
	
	// api urls
  <% if Rails.env.production? %>
    var apiUrl = 'https://slog-st.herokuapp.com';
  <% else %>
    var apiUrl = 'https://juniper-nmckoy.c9.io';
  <% end %>

	return {
		applicationModuleName: applicationModuleName,
		applicationModuleVendorDependencies: applicationModuleVendorDependencies,
		registerModule: registerModule,
		isSessionEnd: isSessionEnd,
		apiUrl: apiUrl
	};
})();